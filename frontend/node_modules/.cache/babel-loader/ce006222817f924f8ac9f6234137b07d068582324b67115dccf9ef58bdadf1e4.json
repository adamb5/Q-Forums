{"ast":null,"code":"import React,{useState}from\"react\";import\"./Results.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Results=_ref=>{let{results}=_ref;const[visibleResults,setVisibleResults]=useState(25);const[sortBy,setSortBy]=useState(\"date\");const[selectedType,setSelectedType]=useState(\"all\");const showMoreResults=()=>{setVisibleResults(prevVisibleResults=>prevVisibleResults+25);};const getDomain=url=>{try{const domain=new URL(url).hostname.replace(\"www.\",\"\");return domain;}catch(e){return null;}};const handleSort=criteria=>{setSortBy(criteria);if(criteria===\"date\"){setSelectedType(\"all\");sortByDate();}else if(criteria===\"type\"){sortByType();}};const sortByDate=()=>{results.sort((a,b)=>new Date(b.creation_date)-new Date(a.creation_date));};const sortByType=()=>{const rank={vulnerability:1,bug:2,question:3};results.sort((a,b)=>(rank[a.label]||4)-(rank[b.label]||4));};const getLabelClass=label=>{switch(label){case\"question\":return\"label-box label-question\";case\"vulnerability\":return\"label-box label-vulnerability\";case\"bug\":return\"label-box label-bug\";default:return\"label-box\";}};const handleTypeChange=event=>{setSelectedType(event.target.value);};const filteredResults=selectedType===\"all\"?results:results.filter(result=>result.label===selectedType);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttonContainerWrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"buttonContainer\",children:[/*#__PURE__*/_jsx(\"button\",{className:sortBy===\"date\"?\"button active\":\"button\",onClick:()=>handleSort(\"date\"),children:\"Date\"}),/*#__PURE__*/_jsx(\"button\",{className:sortBy===\"type\"?\"button active\":\"button\",onClick:()=>handleSort(\"type\"),children:\"Type\"}),sortBy===\"type\"&&/*#__PURE__*/_jsxs(\"select\",{className:\"type-dropdown\",value:selectedType,onChange:handleTypeChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vulnerability\",children:\"Vulnerability\"}),/*#__PURE__*/_jsx(\"option\",{value:\"question\",children:\"Question\"}),/*#__PURE__*/_jsx(\"option\",{value:\"bug\",children:\"Bug\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"results\",children:[filteredResults.slice(0,visibleResults).map(result=>{const domain=getDomain(result.link);return/*#__PURE__*/_jsx(\"a\",{href:result.link||\"#\",target:result.link?\"_blank\":\"self\",rel:result.link?\"noreferrer\":\"\",className:\"result-item-link\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"result-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"result-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:getLabelClass(result.label),children:result.label}),result.title,result.suspicious===1&&/*#__PURE__*/_jsxs(\"span\",{style:{color:\"red\",marginLeft:\"5px\"},children:[\" \",\"\\uD83D\\uDEA9\",\" \"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result-domain\",children:domain?\"Source: \".concat(domain):\"No source available\"})]})},result.question_id);}),visibleResults<results.length&&/*#__PURE__*/_jsx(\"div\",{className:\"show-more\",children:/*#__PURE__*/_jsx(\"button\",{onClick:showMoreResults,children:\"Show More\"})})]})]});};export default Results;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}