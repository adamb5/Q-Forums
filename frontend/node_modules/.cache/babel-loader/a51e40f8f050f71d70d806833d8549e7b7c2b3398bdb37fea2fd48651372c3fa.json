{"ast":null,"code":"import React,{useState}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSearch}from\"@fortawesome/fontawesome-free-solid\";import{Link}from\"react-router-dom\";//import axios from \"axios\";\nimport\"./SearchBar.css\";// function searchHandler(value){\n//   // event.preventDefault();\n//   console.log(\"made it to event handler\");\n//        fetch(`http://localhost:5000/stack/getans/${value}`)\n//       .then((response) => response.json())\n//       .then((json) => {\n//         const results = JSON.parse(json);\n//         setResults(results);\n//       });\n//  };\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{setResults}=_ref;const[input,setInput]=useState(\"\");// const fetchData = (value) => {\n//   fetch(\"https://jsonplaceholder.typicode.com/users\")\n//     .then((response) => response.json())\n//     .then((json) => {\n//       const results = json.filter((user) => {\n//         return (\n//           value &&\n//           user &&\n//           user.name &&\n//           user.name.toLowerCase().includes(value)\n//         );\n//       });\n//       setResults(results);\n//     });\n// };\n//const [value, setValue] = useState(\"\");\nconst searchHandler=async value=>{//event.preventDefault();\nconsole.log(\"made it to event handler\");const response=await fetch(\"http://q-forums.com/api/search\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagged:value})});await fetch(\"http://q-forums.com/data\").then(response=>response.json()).then(json=>{const results=json;//console.log(results);\nconsole.log(Object.keys(results).length);setResults(results);});//const data = await response.json();\n//console.log(data.items);\n//setResults(data.items);\n/*fetch(`http://localhost:5000/search`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data.items);\r\n        const results = data.items;\r\n        setResults(results);\r\n      });*/ //const response = await axios.post('http://localhost:5000/search', {value})\n//console.log(response.data);\n};const handleChange=event=>{event.preventDefault();setInput(event.target.value);//searchHandler(event.target.value);\n};const handleSubmit=()=>{//event.preventDefault();\nif(input!==\"\"){//handleChange();\nsearchHandler(input);}};return/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",method:\"POST\",className:\"searchTerm\",placeholder:\"What are you looking for?\",value:input,onChange:handleChange}),/*#__PURE__*/_jsx(Link,{to:\"/results\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"searchButton\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch})})})]})});};export default SearchBar;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faSearch","Link","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","setResults","input","setInput","searchHandler","value","console","log","response","fetch","method","headers","body","JSON","stringify","tagged","then","json","results","Object","keys","length","handleChange","event","preventDefault","target","handleSubmit","className","children","type","placeholder","onChange","to","onClick","icon"],"sources":["C:/Users/tnitt/Desktop/Q-Forums/frontend/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSearch } from \"@fortawesome/fontawesome-free-solid\";\r\nimport { Link } from \"react-router-dom\";\r\n//import axios from \"axios\";\r\n\r\nimport \"./SearchBar.css\";\r\n\r\n// function searchHandler(value){\r\n//   // event.preventDefault();\r\n//   console.log(\"made it to event handler\");\r\n//        fetch(`http://localhost:5000/stack/getans/${value}`)\r\n//       .then((response) => response.json())\r\n//       .then((json) => {\r\n//         const results = JSON.parse(json);\r\n//         setResults(results);\r\n//       });\r\n//  };\r\n\r\nconst SearchBar = ({ setResults }) => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  // const fetchData = (value) => {\r\n  //   fetch(\"https://jsonplaceholder.typicode.com/users\")\r\n  //     .then((response) => response.json())\r\n  //     .then((json) => {\r\n  //       const results = json.filter((user) => {\r\n  //         return (\r\n  //           value &&\r\n  //           user &&\r\n  //           user.name &&\r\n  //           user.name.toLowerCase().includes(value)\r\n  //         );\r\n  //       });\r\n  //       setResults(results);\r\n  //     });\r\n  // };\r\n\r\n  //const [value, setValue] = useState(\"\");\r\n  const searchHandler = async (value) => {\r\n    //event.preventDefault();\r\n    console.log(\"made it to event handler\");\r\n    const response = await fetch(`http://q-forums.com/api/search`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ tagged: value }),\r\n    });\r\n\r\n    await fetch(`http://q-forums.com/data`)\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        const results = json;\r\n        //console.log(results);\r\n        console.log(Object.keys(results).length);\r\n        setResults(results);\r\n      });\r\n\r\n    //const data = await response.json();\r\n    //console.log(data.items);\r\n    //setResults(data.items);\r\n\r\n    /*fetch(`http://localhost:5000/search`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data.items);\r\n        const results = data.items;\r\n        setResults(results);\r\n      });*/\r\n    //const response = await axios.post('http://localhost:5000/search', {value})\r\n    //console.log(response.data);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.preventDefault();\r\n    setInput(event.target.value);\r\n    //searchHandler(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    //event.preventDefault();\r\n    if (input !== \"\") {\r\n      //handleChange();\r\n      searchHandler(input);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrap\">\r\n      <form className=\"search\">\r\n        <input\r\n          type=\"text\"\r\n          method= 'POST'\r\n          className=\"searchTerm\"\r\n          placeholder=\"What are you looking for?\"\r\n          value={input}\r\n          onChange={handleChange}\r\n        />\r\n        <Link to=\"/results\">\r\n          <button type=\"submit\" className=\"searchButton\" onClick={handleSubmit}>\r\n            <FontAwesomeIcon icon={faSearch} />\r\n          </button>\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,QAAQ,KAAQ,qCAAqC,CAC9D,OAASC,IAAI,KAAQ,kBAAkB,CACvC;AAEA,MAAO,iBAAiB,CAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,KAAM,CAAAa,aAAa,CAAG,KAAO,CAAAC,KAAK,EAAK,CACrC;AACAC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kCAAmC,CAC7DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAEV,KAAM,CAAC,CACxC,CAAC,CAAC,CAEF,KAAM,CAAAI,KAAK,2BAA2B,CAAC,CACpCO,IAAI,CAAER,QAAQ,EAAKA,QAAQ,CAACS,IAAI,CAAC,CAAC,CAAC,CACnCD,IAAI,CAAEC,IAAI,EAAK,CACd,KAAM,CAAAC,OAAO,CAAGD,IAAI,CACpB;AACAX,OAAO,CAACC,GAAG,CAACY,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC,CAACG,MAAM,CAAC,CACxCpB,UAAU,CAACiB,OAAO,CAAC,CACrB,CAAC,CAAC,CAEJ;AACA;AACA;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA,WANI,CAOA;AACA;AACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,KAAK,EAAK,CAC9BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBrB,QAAQ,CAACoB,KAAK,CAACE,MAAM,CAACpB,KAAK,CAAC,CAC5B;AACF,CAAC,CAED,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA,GAAIxB,KAAK,GAAK,EAAE,CAAE,CAChB;AACAE,aAAa,CAACF,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEN,IAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9B,KAAA,SAAM6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtBhC,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXnB,MAAM,CAAE,MAAM,CACdiB,SAAS,CAAC,YAAY,CACtBG,WAAW,CAAC,2BAA2B,CACvCzB,KAAK,CAAEH,KAAM,CACb6B,QAAQ,CAAET,YAAa,CACxB,CAAC,cACF1B,IAAA,CAACF,IAAI,EAACsC,EAAE,CAAC,UAAU,CAAAJ,QAAA,cACjBhC,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,cAAc,CAACM,OAAO,CAAEP,YAAa,CAAAE,QAAA,cACnEhC,IAAA,CAACJ,eAAe,EAAC0C,IAAI,CAAEzC,QAAS,CAAE,CAAC,CAC7B,CAAC,CACL,CAAC,EACH,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}