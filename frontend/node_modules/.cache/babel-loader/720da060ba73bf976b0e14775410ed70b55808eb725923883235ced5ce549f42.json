{"ast":null,"code":"import React,{useState}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSearch}from\"@fortawesome/fontawesome-free-solid\";import{Link}from\"react-router-dom\";//import axios from \"axios\";\nimport\"./SearchBar.css\";// function searchHandler(value){\n//   // event.preventDefault();\n//   console.log(\"made it to event handler\");\n//        fetch(`http://localhost:5000/stack/getans/${value}`)\n//       .then((response) => response.json())\n//       .then((json) => {\n//         const results = JSON.parse(json);\n//         setResults(results);\n//       });\n//  };\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchBar=_ref=>{let{setResults}=_ref;const[input,setInput]=useState(\"\");// const fetchData = (value) => {\n//   fetch(\"https://jsonplaceholder.typicode.com/users\")\n//     .then((response) => response.json())\n//     .then((json) => {\n//       const results = json.filter((user) => {\n//         return (\n//           value &&\n//           user &&\n//           user.name &&\n//           user.name.toLowerCase().includes(value)\n//         );\n//       });\n//       setResults(results);\n//     });\n// };\n//const [value, setValue] = useState(\"\");\nconst searchHandler=async value=>{//event.preventDefault();\nconsole.log(\"made it to event handler\");const response=await fetch(\"http://q-forums.com/api/search\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({tagged:value})});await fetch(\"http://q-forums.com/data\").then(response=>response.json()).then(json=>{const results=json;//console.log(results);\nconsole.log(Object.keys(results).length);setResults(results);});//const data = await response.json();\n//console.log(data.items);\n//setResults(data.items);\n/*fetch(`http://localhost:5000/search`)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data.items);\n        const results = data.items;\n        setResults(results);\n      });*/ //const response = await axios.post('http://localhost:5000/search', {value})\n//console.log(response.data);\n};const handleChange=event=>{event.preventDefault();setInput(event.target.value);//searchHandler(event.target.value);\n};const handleSubmit=()=>{//event.preventDefault();\nif(input!==\"\"){//handleChange();\nsearchHandler(input);}};return/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",method:\"POST\",className:\"searchTerm\",placeholder:\"What are you looking for?\",value:input,onChange:handleChange}),/*#__PURE__*/_jsx(Link,{to:\"/results\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"searchButton\",onClick:handleSubmit,children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSearch})})})]})});};export default SearchBar;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","faSearch","Link","jsx","_jsx","jsxs","_jsxs","SearchBar","_ref","setResults","input","setInput","searchHandler","value","console","log","response","fetch","method","headers","body","JSON","stringify","tagged","then","json","results","Object","keys","length","handleChange","event","preventDefault","target","handleSubmit","className","children","type","placeholder","onChange","to","onClick","icon"],"sources":["/Users/arpandas/Documents/reactjs/qforums/frontend/src/components/SearchBar.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearch } from \"@fortawesome/fontawesome-free-solid\";\nimport { Link } from \"react-router-dom\";\n//import axios from \"axios\";\n\nimport \"./SearchBar.css\";\n\n// function searchHandler(value){\n//   // event.preventDefault();\n//   console.log(\"made it to event handler\");\n//        fetch(`http://localhost:5000/stack/getans/${value}`)\n//       .then((response) => response.json())\n//       .then((json) => {\n//         const results = JSON.parse(json);\n//         setResults(results);\n//       });\n//  };\n\nconst SearchBar = ({ setResults }) => {\n  const [input, setInput] = useState(\"\");\n\n  // const fetchData = (value) => {\n  //   fetch(\"https://jsonplaceholder.typicode.com/users\")\n  //     .then((response) => response.json())\n  //     .then((json) => {\n  //       const results = json.filter((user) => {\n  //         return (\n  //           value &&\n  //           user &&\n  //           user.name &&\n  //           user.name.toLowerCase().includes(value)\n  //         );\n  //       });\n  //       setResults(results);\n  //     });\n  // };\n\n  //const [value, setValue] = useState(\"\");\n  const searchHandler = async (value) => {\n    //event.preventDefault();\n    console.log(\"made it to event handler\");\n    const response = await fetch(`http://q-forums.com/api/search`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ tagged: value }),\n    });\n\n    await fetch(`http://q-forums.com/data`)\n      .then((response) => response.json())\n      .then((json) => {\n        const results = json;\n        //console.log(results);\n        console.log(Object.keys(results).length);\n        setResults(results);\n      });\n\n    //const data = await response.json();\n    //console.log(data.items);\n    //setResults(data.items);\n\n    /*fetch(`http://localhost:5000/search`)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data.items);\n        const results = data.items;\n        setResults(results);\n      });*/\n    //const response = await axios.post('http://localhost:5000/search', {value})\n    //console.log(response.data);\n  };\n\n  const handleChange = (event) => {\n    event.preventDefault();\n    setInput(event.target.value);\n    //searchHandler(event.target.value);\n  };\n\n  const handleSubmit = () => {\n    //event.preventDefault();\n    if (input !== \"\") {\n      //handleChange();\n      searchHandler(input);\n    }\n  };\n\n  return (\n    <div className=\"wrap\">\n      <form className=\"search\">\n        <input\n          type=\"text\"\n          method= 'POST'\n          className=\"searchTerm\"\n          placeholder=\"What are you looking for?\"\n          value={input}\n          onChange={handleChange}\n        />\n        <Link to=\"/results\">\n          <button type=\"submit\" className=\"searchButton\" onClick={handleSubmit}>\n            <FontAwesomeIcon icon={faSearch} />\n          </button>\n        </Link>\n      </form>\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,eAAe,KAAQ,gCAAgC,CAChE,OAASC,QAAQ,KAAQ,qCAAqC,CAC9D,OAASC,IAAI,KAAQ,kBAAkB,CACvC;AAEA,MAAO,iBAAiB,CAExB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAoB,IAAnB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA,KAAM,CAAAa,aAAa,CAAG,KAAO,CAAAC,KAAK,EAAK,CACrC;AACAC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACvC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,kCAAmC,CAC7DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,MAAM,CAAEV,KAAM,CAAC,CACxC,CAAC,CAAC,CAEF,KAAM,CAAAI,KAAK,2BAA2B,CAAC,CACpCO,IAAI,CAAER,QAAQ,EAAKA,QAAQ,CAACS,IAAI,CAAC,CAAC,CAAC,CACnCD,IAAI,CAAEC,IAAI,EAAK,CACd,KAAM,CAAAC,OAAO,CAAGD,IAAI,CACpB;AACAX,OAAO,CAACC,GAAG,CAACY,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC,CAACG,MAAM,CAAC,CACxCpB,UAAU,CAACiB,OAAO,CAAC,CACrB,CAAC,CAAC,CAEJ;AACA;AACA;AAEA;AACJ;AACA;AACA;AACA;AACA;AACA,WANI,CAOA;AACA;AACF,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,KAAK,EAAK,CAC9BA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtBrB,QAAQ,CAACoB,KAAK,CAACE,MAAM,CAACpB,KAAK,CAAC,CAC5B;AACF,CAAC,CAED,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACzB;AACA,GAAIxB,KAAK,GAAK,EAAE,CAAE,CAChB;AACAE,aAAa,CAACF,KAAK,CAAC,CACtB,CACF,CAAC,CAED,mBACEN,IAAA,QAAK+B,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB9B,KAAA,SAAM6B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACtBhC,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXnB,MAAM,CAAE,MAAM,CACdiB,SAAS,CAAC,YAAY,CACtBG,WAAW,CAAC,2BAA2B,CACvCzB,KAAK,CAAEH,KAAM,CACb6B,QAAQ,CAAET,YAAa,CACxB,CAAC,cACF1B,IAAA,CAACF,IAAI,EAACsC,EAAE,CAAC,UAAU,CAAAJ,QAAA,cACjBhC,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,cAAc,CAACM,OAAO,CAAEP,YAAa,CAAAE,QAAA,cACnEhC,IAAA,CAACJ,eAAe,EAAC0C,IAAI,CAAEzC,QAAS,CAAE,CAAC,CAC7B,CAAC,CACL,CAAC,EACH,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}